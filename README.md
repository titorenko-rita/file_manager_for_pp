# Django File Manager

## Описание Проекта

Минимальный веб-проект на Django, позволяющий пользователям загружать, просматривать и заменять файлы. Также реализована функция отправки отчета по электронной почте через SMTP-сервер Mail.ru.

## Функциональность

Проект реализует следующие возможности:

*   **Загрузка файлов:** Пользователи могут загружать файлы с описанием.
*   **Список файлов:** Отображение списка всех загруженных файлов с ссылками для скачивания, описанием и датой загрузки.
*   **Замена файлов:** Возможность заменить существующий файл на новый (при замене старый файл удаляется с диска).
*   **Удаление файлов:** Возможность удалить файл из списка и с диска.
*   **Отправка отчета:** Форма для отправки электронных писем через SMTP Mail.ru (требует настройки учетных данных).

## Требования

*   Python 3.x
*   Django 5.2.1 (или совместимая версия)
*   Учетная запись Mail.ru для отправки отчетов (потребуется пароль приложения).

## Установка и Запуск

1.  **Клонируйте репозиторий:**

    ```bash
    git clone https://github.com/titorenko-rita/file_manager_for_pp.git
    cd file_manager_for_pp
    ```

2.  **Создайте виртуальное окружение (рекомендуется):**

    ```bash
    python -m venv venv
    ```

    *   Для Windows:
        ```bash
        venv\Scripts\activate
        ```
    *   Для macOS/Linux:
        ```bash
        source venv/bin/activate
        ```

3.  **Установите Django:**

    ```bash
    pip install Django==5.2.1
    ```

4.  **Настройте базу данных и миграции:**

    ```bash
    python manage.py migrate
    ```

5.  **Настройте учетные данные Mail.ru:**

    Отредактируйте файл `filemanager/settings.py` и укажите ваши данные для отправки почты:

    ```python
    # Mail.ru SMTP settings
    EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
    EMAIL_HOST = 'smtp.mail.ru'
    EMAIL_PORT = 465
    EMAIL_USE_SSL = True
    EMAIL_HOST_USER = 'ваш_email@mail.ru'  # Замените на ваш email
    EMAIL_HOST_PASSWORD = 'ваш_пароль_приложения'  # Замените на пароль приложения Mail.ru
    ```
    **Важно:** Используйте именно **пароль приложения**, сгенерированный в настройках безопасности вашего аккаунта Mail.ru.

6.  **Запустите сервер разработки:**

    ```bash
    python manage.py runserver
    ```

7.  **Откройте проект в браузере:**

    Перейдите по адресу [http://127.0.0.1:8000/](http://127.0.0.1:8000/).

## Структура Проекта

```
filemanager/
├── filemanager/
│   ├── __init__.py
│   ├── asgi.py
│   ├── settings.py       # Настройки проекта (включая SMTP Mail.ru)
│   ├── urls.py           # Главные URL-адреса проекта
│   └── wsgi.py
├── core/                 # Django-приложение
│   ├── migrations/
│   ├── __init__.py
│   ├── admin.py
│   ├── apps.py
│   ├── forms.py          # Формы для загрузки и отправки email
│   ├── models.py         # Модель StoredFile
│   ├── tests.py
│   └── views.py          # Представления (загрузка, список, замена, удаление, email)
├── media/                # Каталог для загруженных файлов
├── static/               # Каталог для статических файлов (CSS)
│   └── css/
│       └── style.css     # Ваши стили
├── templates/            # Каталог для HTML-шаблонов
│   ├── core/
│   │   ├── email_form.html # Шаблон формы email
│   │   ├── list.html       # Шаблон списка файлов
│   │   ├── replace.html    # Шаблон формы замены
│   │   └── upload.html     # Шаблон формы загрузки
│   └── base.html         # Базовый шаблон
├── db.sqlite3            # Файл базы данных (по умолчанию)
└── manage.py             # Утилита командной строки Django
```

## Тестирование

*   Проверьте загрузку различных типов файлов (txt, pdf, img).
*   Проверьте функцию замены файла, убедитесь, что старый файл удаляется.
*   Проверьте функцию удаления файла.
*   Проверьте отправку отчета по электронной почте на реальный адрес. 